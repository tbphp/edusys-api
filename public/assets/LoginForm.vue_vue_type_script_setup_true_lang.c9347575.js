import{b as u,A as b,d as y,a as E,r as w,I as F,p as v,E as g,B as s,D as k,y as x}from"./index.b1c3e8af.js";import"./index.73c75667.js";import{F as z,_ as C}from"./Form.d590436c.js";import{_ as L}from"./UserOutlined.2f00f39e.js";import{I as P}from"./Input.eef1af9c.js";var S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const V=S;function h(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),a.forEach(function(t){I(n,t,r[t])})}return n}function I(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var p=function(e,r){var a=h({},e,r.attrs);return u(b,h({},a,{icon:V}),null)};p.displayName="LockOutlined";p.inheritAttrs=!1;const R=p,U=y({__name:"LoginForm",props:{identity:Number,isRegister:Boolean},setup(n,{expose:e}){const r=n;e({getFormData:B});const a=E(),t=w({name:"",username:"",password:""}),c=r.identity==F.Student?"\u8D26\u53F7":"\u90AE\u7BB1",d=[{required:!0,message:`${c}\u4E0D\u80FD\u4E3A\u7A7A!`}];c==="\u90AE\u7BB1"&&d.push({pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"\u90AE\u7BB1\u683C\u5F0F\u9519\u8BEF"});const A={name:[{required:!0,message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A!"}],username:d,password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!"}]};function B(){return new Promise(f=>{a.value.validate().then(o=>f(o)).catch(o=>console.log(o))})}return(f,o)=>{const _=L,m=P,i=C,D=R,O=z;return v(),g(O,{ref_key:"formRef",ref:a,model:t,rules:A},{default:s(()=>[n.isRegister?(v(),g(i,{key:0,name:"name"},{default:s(()=>[u(m,{value:t.name,"onUpdate:value":o[0]||(o[0]=l=>t.name=l),placeholder:"\u59D3\u540D",size:"large"},{prefix:s(()=>[u(_)]),_:1},8,["value"])]),_:1})):k("",!0),u(i,{name:"username"},{default:s(()=>[u(m,{value:t.username,"onUpdate:value":o[1]||(o[1]=l=>t.username=l),placeholder:x(c),size:"large"},{prefix:s(()=>[u(_)]),_:1},8,["value","placeholder"])]),_:1}),u(i,{name:"password"},{default:s(()=>[u(m,{value:t.password,"onUpdate:value":o[2]||(o[2]=l=>t.password=l),placeholder:"\u5BC6\u7801",size:"large",type:"password"},{prefix:s(()=>[u(D)]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])}}});export{U as _};
