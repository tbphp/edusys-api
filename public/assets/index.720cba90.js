import{T as D}from"./api.6c619aa7.js";import{u as I}from"./chat.1cdc5011.js";import{d as S,a as t,p as a,q as o,b as F,B,t as v,m,C as h,x as g,D as d,I as N,a8 as b}from"./index.e2c76f91.js";import{_ as w}from"./index.b05a5e83.js";import"./Dropdown.d95ea83c.js";import"./index.40f3feba.js";import"./index.2ff8b4ca.js";import"./Input.2bd320be.js";import"./styleChecker.246fbcd2.js";import"./index.a02c1863.js";import"./toArray.0de1e11b.js";import"./index.bdfe88c9.js";import"./Spin.6d37f8d4.js";import"./debounce.0814cde8.js";const V={class:"p-5"},E=v("p",{class:"font-bold text-lg"},"\u7C89\u4E1D\u5217\u8868",-1),T={key:0},A={key:1},L={key:2,class:"actions"},P=["onClick"],ee=S({__name:"index",setup(q){const y=I(),c=t([]),k=[{title:"ID",dataIndex:"id",key:"id"},{title:"\u59D3\u540D",dataIndex:"name",key:"name"},{title:"\u8D26\u53F7",dataIndex:"username",key:"username"},{title:"\u5B66\u6821",dataIndex:["school","name"],key:"schoolname"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",key:"created_at"},{title:"\u6700\u8FD1\u66F4\u65B0",dataIndex:"updated_at",key:"updated_at"},{title:"\u64CD\u4F5C",dataIndex:"action",key:"action"}],n=t(!1),i=t(1),r=10,l=t(0);p();function p(){n.value=!0,D.getFans({per_page:r,page:i.value}).then(e=>{c.value=e.list,l.value=e.total}).finally(()=>n.value=!1)}function f(e){i.value=e,p()}function x(e){y.openNewSession({identity:N.Student,id:e.id,name:e.name})}return(e,z)=>{const C=w,_=b("time");return a(),o("div",V,[E,F(C,{dataSource:c.value,columns:k,loading:n.value,pagination:{position:["bottomCenter"],current:i.value,hideOnSinglePage:!0,pageSize:r,total:l.value,onChange:f}},{bodyCell:B(({column:s,record:u})=>[s.key==="created_at"?m((a(),o("span",T,[h(g(u.created_at),1)])),[[_]]):d("",!0),s.key==="updated_at"?m((a(),o("span",A,[h(g(u.updated_at),1)])),[[_]]):d("",!0),s.key==="action"?(a(),o("div",L,[v("a",{href:"#",onClick:O=>x(u)},"\u804A\u5929",8,P)])):d("",!0)]),_:1},8,["dataSource","loading","pagination"])])}}});export{ee as default};
