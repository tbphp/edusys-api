import{h as A,a5 as re,d as $,P as k,a as x,a0 as _e,V as Oe,w as ee,Q as be,W as pe,b as v,au as Ee,k as Be,a4 as J,Y as Ie,_ as c,c as Re,l as he,m as ke,v as we,T as Ne,$ as Ae,e as Te,aq as Le,u as $e,f as Me,az as De,as as se,F as je}from"./index.e558b280.js";import{d as Fe,e as We,K as ce,u as Ve,h as ze}from"./index.23e6ad97.js";import{o as Ue,c as Ke}from"./styleChecker.cf36301e.js";import{g as xe,a as He,p as Ye}from"./index.cfc5f755.js";import{w as ue,a as ne,B as fe,j as Xe}from"./api.77d9259c.js";import{b as qe,c as Ge}from"./index.ad51bd24.js";function L(g){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.element,o=t===void 0?document.body:t,n={},i=Object.keys(g);return i.forEach(function(d){n[d]=o.style[d]}),i.forEach(function(d){o.style[d]=g[d]}),n}function Qe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var q={};const de=function(g){if(!(!Qe()&&!g)){var e="ant-scrolling-effect",t=new RegExp("".concat(e),"g"),o=document.body.className;if(g){if(!t.test(o))return;L(q),q={},document.body.className=o.replace(t,"").trim();return}var n=xe();if(n&&(q=L({position:"relative",width:"calc(100% - ".concat(n,"px)")}),!t.test(o))){var i="".concat(o," ").concat(e);document.body.className=i.trim()}}};var _=[],Se="ant-scrolling-effect",G=new RegExp("".concat(Se),"g"),Je=0,Q=new Map,Ze=qe(function g(e){var t=this;Ge(this,g),A(this,"getContainer",function(){var o;return(o=t.options)===null||o===void 0?void 0:o.container}),A(this,"reLock",function(o){var n=_.find(function(i){var d=i.target;return d===t.lockTarget});n&&t.unLock(),t.options=o,n&&(n.options=o,t.lock())}),A(this,"lock",function(){var o;if(!_.some(function(s){var u=s.target;return u===t.lockTarget})){if(_.some(function(s){var u,C=s.options;return(C==null?void 0:C.container)===((u=t.options)===null||u===void 0?void 0:u.container)})){_=[].concat(re(_),[{target:t.lockTarget,options:t.options}]);return}var n=0,i=((o=t.options)===null||o===void 0?void 0:o.container)||document.body;(i===document.body&&window.innerWidth-document.documentElement.clientWidth>0||i.scrollHeight>i.clientHeight)&&(n=xe());var d=i.className;if(_.filter(function(s){var u,C=s.options;return(C==null?void 0:C.container)===((u=t.options)===null||u===void 0?void 0:u.container)}).length===0&&Q.set(i,L({width:n!==0?"calc(100% - ".concat(n,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:i})),!G.test(d)){var m="".concat(d," ").concat(Se);i.className=m.trim()}_=[].concat(re(_),[{target:t.lockTarget,options:t.options}])}}),A(this,"unLock",function(){var o,n=_.find(function(m){var s=m.target;return s===t.lockTarget});if(_=_.filter(function(m){var s=m.target;return s!==t.lockTarget}),!(!n||_.some(function(m){var s,u=m.options;return(u==null?void 0:u.container)===((s=n.options)===null||s===void 0?void 0:s.container)}))){var i=((o=t.options)===null||o===void 0?void 0:o.container)||document.body,d=i.className;!G.test(d)||(L(Q.get(i),{element:i}),Q.delete(i),i.className=i.className.replace(G,"").trim())}}),this.lockTarget=Je++,this.options=e}),O=0,F=Ee(),K={},R=function(e){if(!F)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Be(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body};const en=$({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:k.any,visible:{type:Boolean,default:void 0}},setup:function(e,t){var o=t.slots,n=x(),i=x(),d=x(),m=new Ze({container:R(e.getContainer)}),s=function(){var f,b;(f=n.value)===null||f===void 0||(b=f.parentNode)===null||b===void 0||b.removeChild(n.value)},u=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(f||n.value&&!n.value.parentNode){var b=R(e.getContainer);return b?(b.appendChild(n.value),!0):!1}return!0},C=function(){return F?(n.value||(n.value=document.createElement("div"),u(!0)),N(),n.value):null},N=function(){var f=e.wrapperClassName;n.value&&f&&f!==n.value.className&&(n.value.className=f)};_e(function(){N(),u()});var w=function(){O===1&&!Object.keys(K).length?(de(),K=L({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):O||(L(K),K={},de(!0))},y=Ie();return Oe(function(){var l=!1;ee([function(){return e.visible},function(){return e.getContainer}],function(f,b){var p=J(f,2),a=p[0],r=p[1],h=J(b,2),S=h[0],T=h[1];if(F&&R(e.getContainer)===document.body&&(a&&!S?O+=1:l&&(O-=1)),l){var P=typeof r=="function"&&typeof T=="function";(P?r.toString()!==T.toString():r!==T)&&s(),a&&a!==S&&F&&R(r)!==m.getContainer()&&m.reLock({container:R(r)})}l=!0},{immediate:!0,flush:"post"}),be(function(){u()||(d.value=ue(function(){y.update()}))})}),pe(function(){var l=e.visible,f=e.getContainer;F&&R(f)===document.body&&(O=l&&O?O-1:O),s(),ue.cancel(d.value)}),function(){var l=e.forceRender,f=e.visible,b=null,p={getOpenCount:function(){return O},getContainer:C,switchScrollingEffect:w,scrollLocker:m};return(l||f||i.value)&&(b=v(Fe,{getContainer:C,ref:i},{default:function(){var r;return(r=o.default)===null||r===void 0?void 0:r.call(o,p)}})),b}}});function te(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:k.shape({x:Number,y:Number}).loose,title:k.any,footer:k.any,transitionName:String,maskTransitionName:String,animation:k.any,maskAnimation:k.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:k.any,maskProps:k.any,wrapProps:k.any,getContainer:k.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:k.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function ve(g,e,t){var o=e;return!o&&t&&(o="".concat(g,"-").concat(t)),o}var me=-1;function nn(){return me+=1,me}function ge(g,e){var t=g["page".concat(e?"Y":"X","Offset")],o="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var n=g.document;t=n.documentElement[o],typeof t!="number"&&(t=n.body[o])}return t}function tn(g){var e=g.getBoundingClientRect(),t={left:e.left,top:e.top},o=g.ownerDocument,n=o.defaultView||o.parentWindow;return t.left+=ge(n),t.top+=ge(n,!0),t}var Ce={width:0,height:0,overflow:"hidden",outline:"none"};const on=$({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:c(c({},te()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,t){var o=t.expose,n=t.slots,i=t.attrs,d=x(),m=x(),s=x();o({focus:function(){var l;(l=d.value)===null||l===void 0||l.focus()},changeActive:function(l){var f=document,b=f.activeElement;l&&b===m.value?d.value.focus():!l&&b===d.value&&m.value.focus()}});var u=x(),C=Re(function(){var y=e.width,l=e.height,f={};return y!==void 0&&(f.width=typeof y=="number"?"".concat(y,"px"):y),l!==void 0&&(f.height=typeof l=="number"?"".concat(l,"px"):l),u.value&&(f.transformOrigin=u.value),f}),N=function(){be(function(){if(s.value){var l=tn(s.value);u.value=e.mousePosition?"".concat(e.mousePosition.x-l.left,"px ").concat(e.mousePosition.y-l.top,"px"):""}})},w=function(l){e.onVisibleChanged(l)};return function(){var y,l,f,b,p=e.prefixCls,a=e.footer,r=a===void 0?(y=n.footer)===null||y===void 0?void 0:y.call(n):a,h=e.title,S=h===void 0?(l=n.title)===null||l===void 0?void 0:l.call(n):h,T=e.ariaId,P=e.closable,E=e.closeIcon,B=E===void 0?(f=n.closeIcon)===null||f===void 0?void 0:f.call(n):E,I=e.onClose,M=e.bodyStyle,D=e.bodyProps,W=e.onMousedown,H=e.onMouseup,V=e.visible,z=e.modalRender,j=z===void 0?n.modalRender:z,Y=e.destroyOnClose,X=e.motionName,U;r&&(U=v("div",{class:"".concat(p,"-footer")},[r]));var oe;S&&(oe=v("div",{class:"".concat(p,"-header")},[v("div",{class:"".concat(p,"-title"),id:T},[S])]));var ae;P&&(ae=v("button",{type:"button",onClick:I,"aria-label":"Close",class:"".concat(p,"-close")},[B||v("span",{class:"".concat(p,"-close-x")},null)]));var ie=v("div",{class:"".concat(p,"-content")},[ae,oe,v("div",c({class:"".concat(p,"-body"),style:M},D),[(b=n.default)===null||b===void 0?void 0:b.call(n)]),U]),Pe=he(X);return v(Ne,c(c({},Pe),{},{onBeforeEnter:N,onAfterEnter:function(){return w(!0)},onAfterLeave:function(){return w(!1)}}),{default:function(){return[V||!Y?ke(v("div",c(c({},i),{},{ref:s,key:"dialog-element",role:"document",style:[C.value,i.style],class:[p,i.class],onMousedown:W,onMouseup:H}),[v("div",{tabindex:0,ref:d,style:Ce,"aria-hidden":"true"},null),j?j({originVNode:ie}):ie,v("div",{tabindex:0,ref:m,style:Ce,"aria-hidden":"true"},null)]),[[we,V]]):null]}})}}}),an=$({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,t){return He(t),function(){var o=e.prefixCls,n=e.visible,i=e.maskProps,d=e.motionName,m=he(d);return v(Ne,m,{default:function(){return[ke(v("div",c({class:"".concat(o,"-mask")},i),null),[[we,n]])]}})}}}),ye=$({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:ne(c(c({},te()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,t){var o=t.attrs,n=t.slots,i=x(),d=x(),m=x(),s=x(e.visible),u=x("vcDialogTitle".concat(nn())),C=function(r){if(r){if(!We(d.value,document.activeElement)){var h;i.value=document.activeElement,(h=m.value)===null||h===void 0||h.focus()}}else{var S=s.value;if(s.value=!1,e.mask&&i.value&&e.focusTriggerAfterClose){try{i.value.focus({preventScroll:!0})}catch{}i.value=null}if(S){var T;(T=e.afterClose)===null||T===void 0||T.call(e)}}},N=function(r){var h;(h=e.onClose)===null||h===void 0||h.call(e,r)},w=x(!1),y=x(),l=function(){clearTimeout(y.value),w.value=!0},f=function(){y.value=setTimeout(function(){w.value=!1})},b=function(r){if(!e.maskClosable)return null;w.value?w.value=!1:d.value===r.target&&N(r)},p=function(r){if(e.keyboard&&r.keyCode===ce.ESC){r.stopPropagation(),N(r);return}e.visible&&r.keyCode===ce.TAB&&m.value.changeActive(!r.shiftKey)};return ee(function(){return e.visible},function(){e.visible&&(s.value=!0)},{flush:"post"}),pe(function(){var a;clearTimeout(y.value),(a=e.scrollLocker)===null||a===void 0||a.unLock()}),Ae(function(){var a;if((a=e.scrollLocker)===null||a===void 0||a.unLock(),s.value){var r;(r=e.scrollLocker)===null||r===void 0||r.lock()}}),function(){var a=e.prefixCls,r=e.mask,h=e.visible,S=e.maskTransitionName,T=e.maskAnimation,P=e.zIndex,E=e.wrapClassName,B=e.rootClassName,I=e.wrapStyle,M=e.closable,D=e.maskProps,W=e.maskStyle,H=e.transitionName,V=e.animation,z=e.wrapProps,j=e.title,Y=j===void 0?n.title:j,X=o.style,U=o.class;return v("div",c({class:["".concat(a,"-root"),B]},Ye(e,{data:!0})),[v(an,{prefixCls:a,visible:r&&h,motionName:ve(a,S,T),style:c({zIndex:P},W),maskProps:D},null),v("div",c({tabIndex:-1,onKeydown:p,class:Te("".concat(a,"-wrap"),E),ref:d,onClick:b,role:"dialog","aria-labelledby":Y?u.value:null,style:c(c({zIndex:P},I),{},{display:s.value?null:"none"})},z),[v(on,c(c({},Ue(e,["scrollLocker"])),{},{style:X,class:U,onMousedown:l,onMouseup:f,ref:m,closable:M,ariaId:u.value,prefixCls:a,visible:h,onClose:N,onVisibleChanged:C,motionName:ve(a,H,V)}),n)])])}}});var ln=te(),rn=$({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:ne(ln,{visible:!1}),setup:function(e,t){var o=t.attrs,n=t.slots,i=x(e.visible);return Ve({},{inTriggerContext:!1}),ee(function(){return e.visible},function(){e.visible&&(i.value=!0)},{flush:"post"}),function(){var d=e.visible,m=e.getContainer,s=e.forceRender,u=e.destroyOnClose,C=u===void 0?!1:u,N=e.afterClose,w=c(c(c({},e),o),{},{ref:"_component",key:"dialog"});return m===!1?v(ye,c(c({},w),{},{getOpenCount:function(){return 2}}),n):!s&&C&&!i.value?null:v(en,{visible:d,forceRender:s,getContainer:m},{default:function(l){return w=c(c(c({},w),l),{},{afterClose:function(){N==null||N(),i.value=!1}}),v(ye,w,n)}})}}});const sn=rn;var cn=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],Z=null,un=function(e){Z={x:e.pageX,y:e.pageY},setTimeout(function(){return Z=null},100)};Ke()&&ze(document.documentElement,"click",un,!0);var fn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:k.any,closable:{type:Boolean,default:void 0},closeIcon:k.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:k.any,okText:k.any,okType:String,cancelText:k.any,icon:k.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},bn=[];const pn=$({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:ne(fn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,t){var o=t.emit,n=t.slots,i=t.attrs,d=Le("Modal"),m=J(d,1),s=m[0],u=$e("modal",e),C=u.prefixCls,N=u.rootPrefixCls,w=u.direction,y=u.getPopupContainer,l=function(a){o("update:visible",!1),o("cancel",a),o("change",!1)},f=function(a){o("ok",a)},b=function(){var a,r,h=e.okText,S=h===void 0?(a=n.okText)===null||a===void 0?void 0:a.call(n):h,T=e.okType,P=e.cancelText,E=P===void 0?(r=n.cancelText)===null||r===void 0?void 0:r.call(n):P,B=e.confirmLoading;return v(je,null,[v(fe,c({onClick:l},e.cancelButtonProps),{default:function(){return[E||s.value.cancelText]}}),v(fe,c(c({},Xe(T)),{},{loading:B,onClick:f},e.okButtonProps),{default:function(){return[S||s.value.okText]}})])};return function(){var p,a;e.prefixCls;var r=e.visible,h=e.wrapClassName,S=e.centered,T=e.getContainer,P=e.closeIcon,E=P===void 0?(p=n.closeIcon)===null||p===void 0?void 0:p.call(n):P,B=e.focusTriggerAfterClose,I=B===void 0?!0:B,M=Me(e,cn),D=Te(h,(a={},A(a,"".concat(C.value,"-centered"),!!S),A(a,"".concat(C.value,"-wrap-rtl"),w.value==="rtl"),a));return v(sn,c(c(c({},M),i),{},{getContainer:T||y.value,prefixCls:C.value,wrapClassName:D,visible:r,mousePosition:Z,onClose:l,focusTriggerAfterClose:I,transitionName:se(N.value,"zoom",e.transitionName),maskTransitionName:se(N.value,"fade",e.maskTransitionName)}),c(c({},n),{},{footer:n.footer||b,closeIcon:function(){return v("span",{class:"".concat(C.value,"-close-x")},[E||v(De,{class:"".concat(C.value,"-close-icon")},null)])}}))}}});export{pn as M,bn as d};
