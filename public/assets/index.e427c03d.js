import{a as x,W as U,d as G,V as H,b as c,_ as a,an as se,a2 as ue,aa as ce,a4 as I,u as fe,c as O,aq as ve,ar as de,f as me,e as pe,as as Ce,P as _,at as ye}from"./index.b1c3e8af.js";import{t as be,a as Pe,b as ge,K as _e}from"./index.03f24b51.js";import{j as R,B as J,a as xe,k as ke}from"./api.d5ef28fe.js";import"./index.3f951813.js";import{u as Te}from"./Dropdown.8a17f0c1.js";import{o as Be}from"./styleChecker.62a56cfd.js";var $e=function(){var e=x(!1);return U(function(){e.value=!0}),e};const he=$e;var Ne={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function W(d){return!!(d&&!!d.then)}const Ve=G({compatConfig:{MODE:3},name:"ActionButton",props:Ne,setup:function(e,C){var n=C.slots,s=x(!1),k=x(),v=x(!1),T,y=he();H(function(){e.autofocus&&(T=setTimeout(function(){var l;return(l=k.value.$el)===null||l===void 0?void 0:l.focus()}))}),U(function(){clearTimeout(T)});var B=function(u){var i=e.close;!W(u)||(v.value=!0,u.then(function(){y.value||(v.value=!1),i.apply(void 0,arguments),s.value=!1},function(m){console.error(m),y.value||(v.value=!1),s.value=!1}))},h=function(u){var i=e.actionFn,m=e.close,p=m===void 0?function(){}:m;if(!s.value){if(s.value=!0,!i){p();return}var f;if(e.emitEvent){if(f=i(u),e.quitOnNullishReturnValue&&!W(f)){s.value=!1,p(u);return}}else if(i.length)f=i(p),s.value=!1;else if(f=i(),!f){p();return}B(f)}};return function(){var l=e.type,u=e.prefixCls,i=e.buttonProps;return c(J,a(a(a({},R(l)),{},{onClick:h,loading:v.value,prefixCls:u},i),{},{ref:k}),n)}}});var De=["placement","overlayClassName"],Oe=function(){return a(a({},ge()),{},{prefixCls:String,content:_.any,title:_.any,okType:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},okText:_.any,cancelText:_.any,icon:_.any,okButtonProps:{type:Object,default:void 0},cancelButtonProps:{type:Object,default:void 0},showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function})},Re=G({compatConfig:{MODE:3},name:"APopconfirm",props:xe(Oe(),a(a({},be()),{},{trigger:"click",transitionName:"zoom-big",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:["title","content","okText","icon","cancelText","cancelButton","okButton"],emits:["update:visible","visibleChange"],setup:function(e,C){var n=C.slots,s=C.emit,k=C.expose;H(function(){ue(e.defaultVisible===void 0,"Popconfirm","'defaultVisible' is deprecated, please use 'v-model:visible'")});var v=x();k({getPopupDomNode:function(){var t,o;return(t=v.value)===null||t===void 0||(o=t.getPopupDomNode)===null||o===void 0?void 0:o.call(t)}});var T=Te(!1,{value:ce(e,"visible"),defaultValue:e.defaultVisible}),y=I(T,2),B=y[0],h=y[1],l=function(t,o){e.visible===void 0&&h(t),s("update:visible",t),s("visibleChange",t,o)},u=function(t){l(!1,t)},i=function(t){var o;return(o=e.onConfirm)===null||o===void 0?void 0:o.call(e,t)},m=function(t){var o;l(!1,t),(o=e.onCancel)===null||o===void 0||o.call(e,t)},p=function(t){t.keyCode===_e.ESC&&B&&l(!1,t)},f=function(t){var o=e.disabled;o||l(t)},w=fe("popconfirm",e),Q=w.prefixCls,N=w.getPrefixCls,X=O(function(){return N()}),b=O(function(){return N("popover")}),Y=O(function(){return N("btn")}),Z=ve("Popconfirm",de.Popconfirm),ee=I(Z,1),j=ee[0],te=function(){var t,o,P,g,$=e.okButtonProps,F=e.cancelButtonProps,V=e.title,D=V===void 0?(t=n.title)===null||t===void 0?void 0:t.call(n):V,S=e.cancelText,oe=S===void 0?(o=n.cancel)===null||o===void 0?void 0:o.call(n):S,E=e.okText,ne=E===void 0?(P=n.okText)===null||P===void 0?void 0:P.call(n):E,A=e.okType,L=e.icon,ae=L===void 0?(g=n.icon)===null||g===void 0?void 0:g.call(n):L,K=e.showCancel,le=K===void 0?!0:K,M=n.cancelButton,z=n.okButton,q=a({onClick:m,size:"small"},F),ie=a(a({onClick:i},R(A)),{},{size:"small"},$);return c("div",{class:"".concat(b.value,"-inner-content")},[c("div",{class:"".concat(b.value,"-message")},[ae||c(ye,null,null),c("div",{class:"".concat(b.value,"-message-title")},[D])]),c("div",{class:"".concat(b.value,"-buttons")},[le?M?M(q):c(J,q,{default:function(){return[oe||j.value.cancelText]}}):null,z?z(ie):c(Ve,{buttonProps:a(a({size:"small"},R(A)),$),actionFn:i,close:u,prefixCls:Y.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:function(){return[ne||j.value.okText]}})])])};return function(){var r,t=e.placement,o=e.overlayClassName,P=me(e,De),g=Be(P,["title","content","cancelText","okText","onUpdate:visible","onConfirm","onCancel"]),$=pe(Q.value,o);return c(Pe,a(a({},g),{},{prefixCls:b.value,placement:t,onVisibleChange:f,visible:B.value,overlayClassName:$,transitionName:Ce(X.value,"zoom-big",e.transitionName),ref:v}),{default:function(){return[ke(((r=n.default)===null||r===void 0?void 0:r.call(n))||[],{onKeydown:function(D){p(D)}},!1)]},title:te})}}});const Le=se(Re);export{Ve as A,Le as _};
