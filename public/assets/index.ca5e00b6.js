import{d as T,h as u,aX as e,o as c,c as C,a as l,t as S,u as t,b as s,w as i,N as w,V as E,p as R,aG as y,f as g,aJ as D}from"./index.d2a08d1f.js";import{_ as x}from"./LoginForm.vue_vue_type_script_setup_true_lang.05e6a399.js";import{u as N}from"./user.d2485621.js";import{A as V}from"./api.fab3ea2c.js";import{T as A,b as I}from"./index.163ea2b4.js";import{B as K}from"./button.db5874f5.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import"./collapseMotion.95cb8159.js";import"./useSize.a7cf56ec.js";import"./responsiveObserve.021027c1.js";import"./index.c27a060a.js";import"./Dropdown.eec030bd.js";const $={class:"h-full bg-[#f0f2f5]"},G={class:"pt-[112px] pb-[24px]"},J={class:"text-2xl text-center"},L={class:"w-[368px] mt-[40px] mx-auto"},U={class:"text-right"},X=T({__name:"index",setup(j){const _=D(),b=N(),a=u(!1),o=u(e.Teacher),p=u(),d=u();function k(){a.value&&(a.value=!1)}function B(){a.value||(o.value==e.Teacher?p.value.getFormData().then(n=>{f(n)}):d.value.getFormData().then(n=>{f(n)}))}function f(n){a.value=!0,V.login({...n,identity:o.value}).then(()=>{b.setIdentity(o.value),_.replace("/")}).finally(()=>a.value=!1)}return(n,r)=>{const m=I,F=A,v=K;return c(),C("div",$,[l("div",G,[l("h3",J,S(t(R)),1),l("div",L,[s(F,{class:"login-tabs",activeKey:o.value,"onUpdate:activeKey":r[0]||(r[0]=h=>o.value=h),size:"large",animated:"",onChange:k},{default:i(()=>[(c(),y(m,{key:t(e).Teacher,tab:"\u6559\u5E08\u767B\u5F55"},{default:i(()=>[s(x,{ref_key:"teacherFormRef",ref:p,identity:t(e).Teacher},null,8,["identity"])]),_:1})),(c(),y(m,{key:t(e).Student,tab:"\u5B66\u751F\u767B\u5F55"},{default:i(()=>[s(x,{ref_key:"studentFormRef",ref:d,identity:t(e).Student},null,8,["identity"])]),_:1}))]),_:1},8,["activeKey"]),s(v,{class:"mt-5",type:"primary",block:"",size:"large",loading:a.value,onClick:B},{default:i(()=>[g("\u767B \u5F55")]),_:1},8,["loading"]),w(l("div",U,[s(v,{class:"p-0 pt-2",type:"link",onClick:r[1]||(r[1]=h=>t(_).replace("/register"))},{default:i(()=>[g("\u6CE8\u518C\u6210\u4E3A\u6559\u5E08")]),_:1})],512),[[E,o.value==t(e).Teacher]])])])])}}});const oe=z(X,[["__scopeId","data-v-732f3e04"]]);export{oe as default};
